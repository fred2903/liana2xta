int gate;
process key03() {
  clock x;
  state
    L0, L1, L2, L3 { x < 8 && x >= 0 };
  urgent L0, L2;
  init L0;
  trans
    L0 -> L1 {
      guard x >= 3 && x <= 5;
      assign x = 0;
    },
    L1 -> L2 {
      guard x == 3 && gate == 6;
      assign x = 0;
    },
    L2 -> L3 {
      guard x == 3;
      assign x = 0, gate = gate + 1 * 2;
    };
}
system key03;
